name: GitHub to pub sub action
on: [push]
env:
  TEST_VAR: mYBAR
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: google-github-actions/setup-gcloud@master
        with:
          PROJECT_ID: ${{ secrets.GCP_PROJECT_ID }}
          service_account_key: ${{ secrets.GCP_SA_KEY }}
          export_default_credentials: true
      - name: Use gcloud CLI
        - run: echo "ðŸŽ‰ The job was automatically triggered by a ${{ github.event_name }} event."
        - run: echo $TEST_VAR
        - run: echo $PROJECT_ID
        - run: gcloud pubsub topics publish projects/gothic-scheme-332710/topics/test --message="hello"
